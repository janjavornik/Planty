<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planty - Plant Watering Manager</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <!-- Material Design Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="mdi mdi-leaf"></i>
                    <h1>Planty</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" id="add-plant-btn">
                        <i class="mdi mdi-plus"></i>
                        Add Plant
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <!-- Status Overview -->
                <section class="status-overview">
                    <div class="status-card healthy">
                        <i class="mdi mdi-water-check"></i>
                        <div class="status-info">
                            <span class="status-count" id="healthy-count">0</span>
                            <span class="status-label">Healthy</span>
                        </div>
                    </div>
                    <div class="status-card needs-water">
                        <i class="mdi mdi-water-alert"></i>
                        <div class="status-info">
                            <span class="status-count" id="needs-water-count">0</span>
                            <span class="status-label">Needs Water</span>
                        </div>
                    </div>
                    <div class="status-card overdue">
                        <i class="mdi mdi-water-off"></i>
                        <div class="status-info">
                            <span class="status-count" id="overdue-count">0</span>
                            <span class="status-label">Overdue</span>
                        </div>
                    </div>
                </section>

                <!-- Plants Grid -->
                <section class="plants-section">
                    <h2>My Plants</h2>
                    <div class="plants-grid" id="plants-grid">
                        <!-- Plant cards will be inserted here -->
                    </div>
                    <div class="empty-state" id="empty-state">
                        <i class="mdi mdi-leaf-off"></i>
                        <h3>No plants yet</h3>
                        <p>Add your first plant to get started!</p>
                        <button class="btn btn-primary" onclick="openAddPlantModal()">
                            <i class="mdi mdi-plus"></i>
                            Add Your First Plant
                        </button>
                    </div>
                </section>
            </div>
        </main>

        <!-- Add Plant Modal -->
        <div class="modal" id="add-plant-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add New Plant</h3>
                    <button class="modal-close" onclick="closeAddPlantModal()">
                        <i class="mdi mdi-close"></i>
                    </button>
                </div>
                <form id="add-plant-form">
                    <div class="form-group">
                        <label for="plant-name">Plant Name</label>
                        <input type="text" id="plant-name" name="plant_name" required>
                    </div>
                    <div class="form-group">
                        <label for="plant-type">Plant Type</label>
                        <select id="plant-type" name="plant_type">
                            <option value="">Select a plant type...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="watering-mode">Watering Mode</label>
                        <select id="watering-mode" name="watering_mode" required>
                            <option value="manual">Manual (Timer-based)</option>
                            <option value="sensor">Sensor (Humidity-based)</option>
                        </select>
                    </div>
                    <div class="form-group" id="humidity-sensor-group" style="display: none;">
                        <label for="humidity-sensor">Humidity Sensor Entity</label>
                        <input type="text" id="humidity-sensor" name="humidity_sensor" placeholder="sensor.plant_humidity">
                    </div>
                    <div class="form-group" id="watering-interval-group">
                        <label for="watering-interval">Watering Interval (days)</label>
                        <input type="number" id="watering-interval" name="watering_interval" min="1" max="30" value="7">
                    </div>
                    <div class="form-group">
                        <label for="plant-image">Plant Image (optional)</label>
                        <input type="file" id="plant-image" accept="image/*">
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeAddPlantModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Plant</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Plant Details Modal -->
        <div class="modal" id="plant-details-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="plant-details-title">Plant Details</h3>
                    <button class="modal-close" onclick="closePlantDetailsModal()">
                        <i class="mdi mdi-close"></i>
                    </button>
                </div>
                <div class="plant-details" id="plant-details-content">
                    <!-- Plant details will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Loading plants...</p>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container" id="toast-container"></div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
